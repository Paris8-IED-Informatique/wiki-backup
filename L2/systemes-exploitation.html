<!--
title: Systèmes d'exploitation
description: Programmation système sous Linux
published: true
date: 2025-09-07T09:10:00.274Z
tags: 
editor: ckeditor
dateCreated: 2022-05-28T20:48:48.856Z
-->

<h1><strong>Chapitre 2</strong></h1>
<p>Dans ce chapitre, beaucoup d'exercices sont en rapport avec le projet final (création du shell). Il faut garder ça en tête lors de la réalisation des exercices pour s'éviter un double travail.</p>
<p>Lorsque le cours dit "notre shell" ou le “mini shell” il parle du shell (du programme) dont le début est donné page 104 (chapitre 2.7) et qu'il faut modifier modifier petit à petit.</p>
<p>Quand le cours dit d'ajouter une commande, il dit bien “commande”, pas "programme" donc c'est à ajouter dans le shell du 2.7.</p>
<h2><strong>Aide pour le débogage</strong></h2>
<p>L'utilisation de forks peut poser problème pour le débogage. Dans gdb, le mode suivant peut s'avérer très utile :</p>
<pre><code class="language-plaintext">set follow-fork-mode child ou set follow-fork-mode parent</code></pre>
<p>qui précise quel processus le debugger doit suivre. On peut également utiliser ce mode :</p>
<pre><code class="language-plaintext">set detach-on-fork</code></pre>
<p>qui permet de faire tourner les deux processus.</p>
<p>Source : <a href="https://ftp.gnu.org/old-gnu/Manuals/gdb/html_node/gdb_25.html">https://ftp.gnu.org/old-gnu/Manuals/gdb/html_node/gdb_25.html</a></p>
<p>Pour utiliser ces options <strong>dans VsCode</strong>, il faut modifier dans le fichier launch.json la ligne : “text” : “gcc-set follow-fork-mode child”</p>
<h2><strong>Exercice 2.15</strong></h2>
<p>Cet exercice est noté “Au Choix”, mais il fait partie du projet final. Le programme du cours dont il est fait mention dans l'énoncé correspond au programme du shell p.107.</p>
<h2>Exercice 2.16</h2>
<p>Il faut faire cet exercice pour comprendre l'exercice suivant (2.17).</p>
<h1><strong>Chapitre 5</strong></h1>
<h2><strong>Exercice 5.4</strong></h2>
<p>Dans le code associé à l'exercice, il est écrit à la ligne 13 :</p>
<pre><code class="language-plaintext">execl(“/bin/ls”,“ls”,“-l”,0);</code></pre>
<p>Si vous compilez avec gcc -Wall, vous obtiendrez le warning suivant :</p>
<pre><code class="language-plaintext">missing sentinel in function call [-Wformat=]</code></pre>
<p>Cela vient du fait que le 0 final n'a pas été reconnu comme le caractère nul. Remplacez la ligne par la suivante :</p>
<pre><code class="language-plaintext">execl(“/bin/ls”,“ls”,“-l”,(char *)NULL);</code></pre>
<h1>Chapitre 6</h1>
<p>&nbsp;Lorsque le cours parle du “mini-shell”, c'est le shell que vous avez débuté au chapitre 2 basé sur le code du cours page 104 (chapitre 2.7). Ce n'est pas le shell que vous utilisez dans votre terminal.</p>
<h1>Calculer sa note finale</h1>
<p>Vous pouvez vous référer au <a href="/fr/L1/architecture-des-ordinateurs#obtenir-sa-note-finale">paragraphe correspondant d'Architecture des Ordinateurs</a>.</p>
<p style="text-align:right;">Modifier</p>
